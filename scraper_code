from newsapi import NewsApiClient
import time
import datetime
print('start')
l=[]
newsapi = NewsApiClient(api_key='c7632aa99be04e119c107abb5501ba91')

def scrape(s1,s2):
    all_articles = newsapi.get_everything(
                                      sources='the-hindu,the-times-of-india',
                                      from_param=s1,
                                      to=s2,
                                      language='en')
    for j in all_articles['articles']:
        d=dict(title=j['title'] , content=j['content'])
        l.append(d)
        
    print(l)
    

start =datetime.datetime.now().isoformat()
time.sleep(1500)
stop=datetime.datetime.now().isoformat()
while True:
        print(start)
        print(stop)
        scrape(str(start),str(stop))
        time.sleep(1500)
        start=stop
        stop=datetime.datetime.now().isoformat()
